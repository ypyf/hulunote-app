@config "../tailwind.config.js";
@import "tailwindcss";

/* Tailwind v4 source globs (CSS-first). */
@source "../index.html";
@source "../src/**/*.{rs,html,js}";

/*
  App theme tokens (Linear-inspired).

  We keep these as CSS variables so Tailwind color utilities can reference them
  via tailwind.config.js.
*/
:root {
  /* Neutral tokens (DESIGN_TOKENS.md) */
  --background: 8 9 10;             /* color-bg: #08090A */
  --foreground: 247 248 248;        /* color-text: #F7F8F8 */
  --muted: 14 15 17;                /* color-surface: #0E0F11 */
  --surface-hover: 18 19 22;        /* color-surface-hover: #121316 */
  --surface-active: 22 24 27;       /* color-surface-active: #16181B */
  --muted-foreground: 162 167 176;  /* color-text-muted: #A2A7B0 */
  --text-disabled: 108 113 122;     /* color-text-disabled: #6C717A */
  --border: 30 32 35;               /* color-border: #1E2023 */
  --border-strong: 42 45 51;        /* color-border-strong: #2A2D33 */

  /* Accent tokens */
  --accent: 113 112 255;            /* color-accent: #7170FF */
  --accent-hover: 126 125 255;      /* color-accent-hover: #7E7DFF */
  --accent-active: 102 101 255;     /* color-accent-active: #6665FF */
  --accent-foreground: 11 12 14;    /* color-on-accent: #0B0C0E */
  --accent-soft: rgba(113, 112, 255, 0.16); /* more visible hover fill */
  --ring: rgba(113, 112, 255, 0.45);        /* color-ring */

  /* Semantic colors used by Rust/UI component variants (shadcn-ish) */
  --secondary: 18 19 22;                /* surface-hover */
  --secondary-foreground: 247 248 248;  /* foreground */

  --destructive: 239 68 68;             /* red-500-ish */
  --destructive-foreground: 255 255 255;

  --warning: 245 158 11;                /* amber-500-ish */
  --warning-foreground: 17 24 39;

  --success: 34 197 94;                 /* green-500-ish */
  --success-foreground: 17 24 39;

  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
}

/* App-level defaults */
body {
  font-family: "Inter Variable", "SF Pro Display", -apple-system, system-ui, "Segoe UI", Roboto,
    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  background: rgb(var(--background));
  color: rgb(var(--foreground));
}

/*
  Outline row hover highlight (Roam-ish):
  - delayed highlight on hover-in (~500ms)
  - smooth fade in/out

  Tailwind's `delay-*` applies to both directions; we want delay only on hover-in,
  so we implement it in CSS.
*/
.outline-row {
  border-radius: var(--radius-md);
  transition: background-color 160ms ease;
  transition-delay: 0ms;
}

.outline-row:hover {
  transition-delay: 200ms;
  background-color: var(--accent-soft);
}

/* No hover highlight while editing (global: any node is being edited) */
.outline-editor--editing .outline-row:hover {
  transition-delay: 0ms;
  background-color: transparent;
}

/* Also keep row-local guard (in case outline rows are reused elsewhere) */
.outline-row--editing:hover {
  transition-delay: 0ms;
  background-color: transparent;
}
