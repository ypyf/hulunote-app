@config "../tailwind.config.js";
@import "tailwindcss";

/* Tailwind v4 source globs (CSS-first). */
@source "../index.html";
@source "../src/**/*.{rs,html,js}";

/*
  App theme tokens (Linear-inspired).

  We keep these as CSS variables so Tailwind color utilities can reference them
  via tailwind.config.js.
*/
:root {
  /* Neutral tokens (DESIGN_TOKENS.md) */
  --background: 8 9 10;             /* color-bg: #08090A */
  --foreground: 247 248 248;        /* color-text: #F7F8F8 */
  --muted: 14 15 17;                /* color-surface: #0E0F11 */
  --surface-hover: 18 19 22;        /* color-surface-hover: #121316 */
  --surface-active: 22 24 27;       /* color-surface-active: #16181B */
  --muted-foreground: 162 167 176;  /* color-text-muted: #A2A7B0 */
  --text-disabled: 108 113 122;     /* color-text-disabled: #6C717A */
  --border: 30 32 35;               /* color-border: #1E2023 */
  --border-strong: 42 45 51;        /* color-border-strong: #2A2D33 */

  /* Rust/UI style-token aliases (use `--color-*` tokens inside generated components).
     Goal: generated Rust/UI components can rely on these tokens without per-component edits. */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Surfaces */
  --color-card: var(--surface-hover);
  --color-card-foreground: var(--foreground);
  --color-popover: var(--surface-hover);
  --color-popover-foreground: var(--foreground);

  /* Muted surface. */
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  /* Borders / inputs */
  --color-border: var(--border);
  --color-border-strong: var(--border-strong);
  --color-input: var(--surface-hover);
  --color-ring: var(--ring);

  /* Semantic / shadcn-style tokens (commonly used by Rust/UI components) */
  --color-primary: var(--accent);
  --color-primary-foreground: var(--accent-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);

  /* Accent tokens */
  --accent: 113 112 255;            /* color-accent: #7170FF */
  --accent-hover: 126 125 255;      /* color-accent-hover: #7E7DFF */
  --accent-active: 102 101 255;     /* color-accent-active: #6665FF */
  --accent-foreground: 11 12 14;    /* color-on-accent: #0B0C0E */
  --accent-soft: rgba(113, 112, 255, 0.16); /* more visible hover fill */
  --ring: rgba(113, 112, 255, 0.45);        /* color-ring */

  /* (color-* aliases defined above) */

  /* Semantic colors used by Rust/UI component variants (shadcn-ish) */
  --secondary: 18 19 22;                /* surface-hover */
  --secondary-foreground: 247 248 248;  /* foreground */

  --destructive: 239 68 68;             /* red-500-ish */
  --destructive-foreground: 255 255 255;

  --warning: 245 158 11;                /* amber-500-ish */
  --warning-foreground: 17 24 39;

  --success: 34 197 94;                 /* green-500-ish */
  --success-foreground: 17 24 39;

  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
}

/* App-level defaults */
body {
  font-family: "Inter Variable", "SF Pro Display", -apple-system, system-ui, "Segoe UI", Roboto,
    Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
  background: rgb(var(--color-background));
  color: rgb(var(--color-foreground));
}

/*
  Outline row hover highlight (Roam-ish):
  - delayed highlight on hover-in (~500ms)
  - smooth fade in/out

  Tailwind's `delay-*` applies to both directions; we want delay only on hover-in,
  so we implement it in CSS.
*/
.outline-row {
  border-radius: var(--radius-md);
  transition: background-color 160ms ease;
}

/* Hover highlight: keep it immediate to avoid flicker when rows switch editing state. */
.outline-row:hover {
  background-color: var(--accent-soft);
}

/* No hover highlight on the row that is currently being edited */
.outline-row--editing:hover {
  transition-delay: 0ms;
  background-color: transparent;
}
